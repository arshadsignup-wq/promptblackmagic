<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, follow">
  <title>Redirecting... | Prompt Black Magic</title>
  <meta name="theme-color" content="#08060f">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#10038;</text></svg>">
  <script src="prompts.js"></script>
  <noscript><meta http-equiv="refresh" content="0;url=/"></noscript>
</head>
<body style="background:#08060f;color:#e8e4f0;font-family:sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0">
  <p>Redirecting...</p>
  <script>
  (function() {
    var params = new URLSearchParams(window.location.search);
    var slug = params.get('prompt');
    var idParam = params.get('id');

    // Resolve by slug
    if (slug && PROMPTS_SLUG_INDEX.hasOwnProperty(slug)) {
      window.location.replace('/prompts/' + slug + '/');
      return;
    }

    // Resolve by legacy numeric id
    if (idParam !== null) {
      var id = parseInt(idParam, 10);
      if (!isNaN(id) && id >= 0 && id < PROMPTS_DATA.length) {
        window.location.replace('/prompts/' + PROMPTS_DATA[id]._slug + '/');
        return;
      }
    }

    // Fallback to homepage
    window.location.replace('/');
  })();
  </script>
</body>
</html>
