<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5784937598297489"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-J49B7Y5X7E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-J49B7Y5X7E');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt Black Magic</title>
  <meta name="description" content="Battle-tested AI prompts ready to copy, paste, and use with any model.">
  <meta name="theme-color" content="#08060f">
  <meta property="og:title" content="Prompt Black Magic">
  <meta property="og:description" content="Battle-tested AI prompts ready to copy, paste, and use with any model.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.promptblackmagic.com/prompt.html">
  <meta name="twitter:card" content="summary">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#10038;</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Inter:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="prompts.js"></script>
</head>
<body>

  <!-- Ambient floating orbs -->
  <div class="ambient-bg" aria-hidden="true">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
  </div>

  <!-- ─── DETAIL PAGE ─── -->
  <div class="detail-page" id="detail-page">
    <!-- Rendered by JS -->
  </div>

  <!-- ─── FOOTER ─── -->
  <footer>
    <div class="footer-inner">
      <div class="footer-brand">
        <div class="footer-logo">
          <span class="footer-sigil" aria-hidden="true">&#10038;</span>
          <span class="footer-name">Prompt Black Magic</span>
        </div>
        <p class="footer-tagline">Battle-tested prompts for every AI model. No fluff. Just results.</p>
      </div>
      <div class="footer-links">
        <div class="footer-col">
          <h3 class="footer-heading">Stay Updated</h3>
          <p class="footer-note">New prompts added regularly.<br>Bookmark this page to stay ahead.</p>
        </div>
        <div class="footer-col">
          <h3 class="footer-heading">Get in Touch</h3>
          <a href="mailto:promptblackmagic@gmail.com" class="footer-email">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 7l-10 7L2 7"/></svg>
            promptblackmagic@gmail.com
          </a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p class="copyright">Prompt Black Magic &copy; 2026. All rights reserved.</p>
    </div>
  </footer>

  <script>
  (function() {
    'use strict';

    const params = new URLSearchParams(window.location.search);
    const page = document.getElementById('detail-page');

    // Resolve prompt by slug or legacy id
    let id;
    const slugParam = params.get('prompt');
    const idParam = params.get('id');

    if (slugParam && PROMPTS_SLUG_INDEX.hasOwnProperty(slugParam)) {
      id = PROMPTS_SLUG_INDEX[slugParam];
    } else if (idParam !== null) {
      id = parseInt(idParam, 10);
    }

    if (id === undefined || isNaN(id) || id < 0 || id >= PROMPTS_DATA.length) {
      page.innerHTML = '<div class="detail-card" style="margin-top:60px;text-align:center"><p class="detail-error">Prompt not found.</p><a href="index.html" class="back-link" style="margin-top:16px;display:inline-flex">\u2190 Browse All Prompts</a></div>';
      return;
    }

    const p = PROMPTS_DATA[id];
    document.title = p.title + ' | Prompt Black Magic';

    function escapeHtml(str) {
      const div = document.createElement('div');
      div.textContent = str;
      return div.innerHTML;
    }

    // Icons
    const icons = {
      copy: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>',
      check: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>',
      back: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>',
      method: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
      code: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>',
      prev: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>',
      next: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 6 15 12 9 18"/></svg>',
      sparkle: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>',
      share: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>'
    };

    // Navigation
    const prevId = id > 0 ? id - 1 : null;
    const nextId = id < PROMPTS_DATA.length - 1 ? id + 1 : null;

    const prevLink = prevId !== null
      ? `<a href="prompt.html?prompt=${PROMPTS_DATA[prevId]._slug}" class="detail-nav-btn">${icons.prev}<span>${escapeHtml(PROMPTS_DATA[prevId].title)}</span></a>`
      : '<span></span>';
    const nextLink = nextId !== null
      ? `<a href="prompt.html?prompt=${PROMPTS_DATA[nextId]._slug}" class="detail-nav-btn detail-nav-next"><span>${escapeHtml(PROMPTS_DATA[nextId].title)}</span>${icons.next}</a>`
      : '<span></span>';

    page.innerHTML = `
      <!-- Top bar -->
      <nav class="detail-topbar">
        <a href="index.html" class="back-link">${icons.back} All Prompts</a>
        <span class="detail-prompt-number">${id + 1} / ${PROMPTS_DATA.length}</span>
      </nav>

      <!-- Hero banner -->
      <div class="detail-hero">
        <div class="detail-hero-glow"></div>
        <span class="detail-category">${escapeHtml(p.category)}</span>
        <h1 class="detail-title">${escapeHtml(p.title)}</h1>
        <p class="detail-description">${escapeHtml(p.description)}</p>
      </div>

      <!-- How to use -->
      <div class="detail-section detail-section-method">
        <div class="detail-section-label">
          <span class="detail-section-icon">${icons.method}</span>
          <h2>How to Use</h2>
        </div>
        <div class="detail-method-content">
          <p>${escapeHtml(p.method).replace(/\n/g, '<br>')}</p>
        </div>
      </div>

      <!-- The Prompt -->
      <div class="detail-section detail-section-prompt">
        <div class="detail-section-label">
          <span class="detail-section-icon">${icons.code}</span>
          <h2>The Prompt</h2>
          <button class="copy-btn detail-copy-inline" id="copy-inline">
            <span class="btn-text"><span class="icon">${icons.copy}</span> Copy</span>
          </button>
        </div>
        <div class="detail-prompt-wrapper">
          <pre class="detail-prompt">${escapeHtml(p.prompt)}</pre>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="detail-actions">
        <button class="copy-btn detail-copy-cta" id="copy-cta">
          <span class="btn-text"><span class="icon">${icons.copy}</span> Copy This Prompt</span>
        </button>
        <button class="copy-btn detail-share-btn" id="share-btn">
          <span class="btn-text"><span class="icon">${icons.share}</span> Copy Link</span>
        </button>
      </div>

      <!-- Prompt navigation -->
      <div class="detail-nav-footer">
        ${prevLink}
        ${nextLink}
      </div>
    `;

    // Copy handlers
    let timeout;
    function handleCopy(btn) {
      navigator.clipboard.writeText(p.prompt).then(() => {
        btn.classList.add('copied');
        btn.querySelector('.btn-text').innerHTML = '<span class="icon">' + icons.check + '</span> Copied!';
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          btn.classList.remove('copied');
          const label = btn.id === 'copy-inline' ? 'Copy' : 'Copy This Prompt';
          btn.querySelector('.btn-text').innerHTML = '<span class="icon">' + icons.copy + '</span> ' + label;
        }, 2500);
      });
    }

    document.getElementById('copy-inline').addEventListener('click', function() { handleCopy(this); });
    document.getElementById('copy-cta').addEventListener('click', function() { handleCopy(this); });

    // Share button handler
    let shareTimeout;
    const shareBtn = document.getElementById('share-btn');
    shareBtn.addEventListener('click', function() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        shareBtn.classList.add('copied');
        shareBtn.querySelector('.btn-text').innerHTML = '<span class="icon">' + icons.check + '</span> Link Copied!';
        clearTimeout(shareTimeout);
        shareTimeout = setTimeout(() => {
          shareBtn.classList.remove('copied');
          shareBtn.querySelector('.btn-text').innerHTML = '<span class="icon">' + icons.share + '</span> Copy Link';
        }, 2500);
      });
    });

    // Dynamic meta tags
    document.querySelector('meta[property="og:title"]').content = p.title + ' | Prompt Black Magic';
    document.querySelector('meta[property="og:description"]').content = p.description;
    document.querySelector('meta[property="og:url"]').content = 'https://www.promptblackmagic.com/prompt.html?prompt=' + p._slug;
    document.querySelector('meta[name="description"]').content = p.description;
  })();
  </script>

</body>
</html>
